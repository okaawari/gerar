# Copy this file to .env in your deployment directory and fill in your values
# DO NOT COMMIT .env TO GIT!

# Database Configuration
DATABASE_URL="mysql://dbuser:dbpassword@localhost:3306/dbname"

# Server Configuration
PORT=3000
NODE_ENV=production

# API Base URL - Used for generating image URLs and other absolute URLs
# In development with Next.js on network, use network IP (e.g., http://192.168.1.3:3000)
# In production, use your production domain (e.g., https://api.gerar.mn)
# If not set, will use request host (req.get('host'))
API_BASE_URL=http://192.168.1.3:3000

# JWT Configuration - GENERATE A STRONG SECRET!
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# CORS Configuration
# You can specify a single origin, comma-separated multiple origins, or '*' for all origins
# Localhost origins (http://localhost:*, http://127.0.0.1:*) are always allowed
# Examples:
# CORS_ORIGIN=https://yourdomain.com
# CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com,https://staging.yourdomain.com
# CORS_ORIGIN=*
CORS_ORIGIN=https://yourdomain.com

# QPAY Payment Configuration
QPAY_API_URL=https://merchant.qpay.mn/v2
QPAY_USERNAME=QPAYUSERNAME
QPAY_PASSWORD=QPAYPASSWORD
QPAY_INVOICE_CODE=QPAYINVOICECODE
# Ebarimt (VAT) invoice: code from QPay for НӨАТ-ийн мэдээлэлтэй нэхэмжлэх. Omit to use QPAY_INVOICE_CODE.
# QPAY_EBARIMT_INVOICE_CODE=TEST_EB_INVOICE
# District code for ebarimt invoice (Төлбөрийн баримтын байршлын код). Falls back to EB_GERAR_DISTRICT_CODE.
# QPAY_DISTRICT_CODE=0101
# QPay POSTs payment confirmation to: QPAY_CALLBACK_BASE_URL/orders/:id/payment-callback
# For local dev: use a tunnel (ngrok, etc.) and set this to your tunnel URL, else callbacks hit production and you see no logs/emails locally
QPAY_CALLBACK_BASE_URL=https://api.gerar.mn/api

# GERAR Ebarimt (fiscal receipt) – used when payment is confirmed
# Хандах client: GERAR, Password: .env, Invoice code: EB_GERAR_INVOICE
EB_GERAR_API_URL=https://your-ebarimt-api-url/put
EB_GERAR_CLIENT=GERAR
EB_GERAR_PASSWORD=your-gerar-password
EB_GERAR_INVOICE=EB_GERAR_INVOICE
EB_GERAR_BRANCH_CODE=TEST_BRANCH
EB_GERAR_DISTRICT_CODE=3505
# Optional: EBARIMT_CALLBACK_URL (default: API_BASE_URL + /api/payments/ebarimt-callback)

# Ebarimt v3 test script (scripts/test-ebarimt-v3.js)
# EBARIMT_TEST_PAYMENT_ID = QPay payment ID from a completed payment (required to run test)
# EBARIMT_RECEIVER_TYPE = CITIZEN (default) or other if needed

# Discord admin notifications (optional)
# When set, a message is sent to this webhook whenever a payment is received (order details for admins)
DISCORD_WEBHOOK_URL=

# Email Service Configuration (Google SMTP)
# For Gmail, you need to:
# 1. Enable 2-Step Verification on your Google account
# 2. Generate an App Password: https://myaccount.google.com/apppasswords
# 3. Use the App Password (not your regular Gmail password) as SMTP_PASSWORD
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password-here
SMTP_FROM_EMAIL=your-email@gmail.com
SMTP_FROM_NAME=Ecommerce
